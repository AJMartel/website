{"version":3,"sources":["app.js"],"names":["angular","module","config","RestangularProvider","setDefaultHeaders","setBaseUrl","document","addEventListener","event","dropContainer","getElementById","fileInput","onchange","submit","onEnter","classList","add","onExit","remove","ondragover","ondragenter","evt","preventDefault","ondragleave","ondragend","ondrop","files","dataTransfer","BaseCtrl","$rootScope","$on","body","scrollTop","documentElement","baseUrl","location","protocol","hostname","port","getDropboxLink","redirect","type","state","clientId","host","absoluteRedirect","url","producers","shuffle","name","link","array","rand","index","length","result","Array","Math","floor","random","controller","DropboxCtrl","$scope","$stateParams","ExtensionsCtrl","freeExtensions","desc","sref","types","href","proExtensions","cta","FileAttacherCtrl","$state","Restangular","getUser","test","secretUrl","match","uuid","queryString","substring","indexOf","query","parseQuery","key","one","customGET","then","response","sessionStorage","setItem","user","plain","didSetUser","dropboxLink","window","getItem","dropboxAccessToken","request","_","merge","dropbox_token","patch","encodeURIComponent","secret_url","error","loginData","showLogin","submitLogin","go","qstr","a","substr","split","i","b","decodeURIComponent","LandingCtrl","$timeout","displayData","demoUrl","_staging_app_server","onkeydown","e","keyCode","previousScreenshot","nextScreenshot","screenshot","downloads","icon","screenshots","clickedScreenshots","item","screenshotIndex","updateScreenshot","loadNext","preloaded","Image","src","onload","hasNextScreenshot","hasPreviousScreenshot","$event","stopPropagation","ProDashboardCtrl","buildExtensions","extensions","extension_server_url","editor","theme","jwt","id","get","catch","errorResponse","console","log","alert","infoFormData","submitInfoForm","success","ProCtrl","formData","presetAmountSelected","payOtherAmount","submitEmail","email","post","status","registrationResponse","token","purchaseSubscription","loadStripe","callback","StripeCheckout","scriptTag","createElement","async","headTag","getElementsByTagName","appendChild","getPayAmount","amount","payAmount","handler","configure","_stripe_pk","locale","bitcoin","submitSubscriptionRequest","open","description","stripeToken","processing","token_type","data","message","ToolsCtrl","importEvernoteFileSelected","file","reader","FileReader","target","sndata","SNTools","convertENEXDatatoSN","downloadSNData","evernoteConversionComplete","readAsText","importPlaintextSelected","convertPlaintextFiles","plaintextConversionComplete","filter","$sce","trustAsResourceUrl","directive","restrict","scope","element","on","$apply","$stateProvider","$urlRouterProvider","$locationProvider","abstract","views","header","templateUrl","parent","extServer","_ext_server","iframeURL","params","_slack_url","otherwise","$injector","$location","path","html5Mode"],"mappings":"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","file":"transpiled.js","sourcesContent":["'use strict';\n\nangular.module('app.main', [\n  'ui.router',\n  'restangular',\n  'angulartics',\n  'angulartics.piwik'\n])\n\n.config(function (RestangularProvider) {\n  RestangularProvider.setDefaultHeaders({\"Content-Type\": \"application/json\"});\n  RestangularProvider.setBaseUrl(\"/api\");\n})\n;document.addEventListener(\"DOMContentLoaded\", function(event) {\n  var dropContainer = document.getElementById(\"drop-container\");\n  var fileInput = document.getElementById(\"file-input\");\n\n  if(fileInput) {\n    fileInput.onchange = function() {\n      document.getElementById(\"file-attacher-form\").submit();\n    };\n\n    var onEnter = function() {\n      dropContainer.classList.add('is-dragover');\n    }\n\n    var onExit = function() {\n      dropContainer.classList.remove('is-dragover');\n    }\n\n    dropContainer.ondragover = dropContainer.ondragenter = function(evt) {\n      onEnter();\n      evt.preventDefault();\n    };\n\n    dropContainer.ondragleave = dropContainer.ondragend = onExit;\n\n    dropContainer.ondrop = function(evt) {\n      onExit();\n      dropContainer.classList.add('is-uploading');\n      fileInput.files = evt.dataTransfer.files;\n      evt.preventDefault();\n    };\n  }\n\n});\n;class BaseCtrl {\n  constructor($rootScope) {\n\n    $rootScope.$on('$stateChangeSuccess', function() {\n       document.body.scrollTop = document.documentElement.scrollTop = 0;\n    });\n\n    $rootScope.baseUrl = function() {\n      return location.protocol+'//'+location.hostname+(location.port ? ':'+location.port: '');\n    }\n\n    $rootScope.getDropboxLink = function(redirect, type, state) {\n      var clientId = \"7wzjlm5ap227jw7\";\n      var host = $rootScope.baseUrl();\n      var absoluteRedirect = host + \"/\" + redirect;\n      var url = \"https://www.dropbox.com/1/oauth2/authorize?client_id=\" + clientId + \"&response_type=\" + type + \"&redirect_uri=\" + absoluteRedirect;\n      if(state) {\n        url += \"&state=\" + state;\n      }\n      return url;\n    }\n\n    $rootScope.producers = shuffle([\n      {name: \"Jeff Camealy\", link: \"https://recordsetter.com/world-record/consecutive-bounces-table-tennis-ball-alternating-between-base-inside-coffee-mug/50623\"},\n      {name: \"Carl Fletcher\", link: \"http://www.carlfletcher.org/\"},\n      {name: \"Jay Zisch\", link: \"https://github.com/jz709u\"},\n      {name: \"Lev Lazinskiy\", link: \"https://levlaz.org\"},\n      {name: \"Noel Bautista\", link: \"http://codingdoodles.com/\"},\n      {name: \"Amit Shinde\", link: \"https://github.com/amtsh\"},\n      {name: \"Sergio Pantoja\", link: \"https://github.com/sergiopantoja\"},\n      {name: \"John Huang\", link: \"https://twitter.com/ymhuang0808\"},\n      {name: \"Jamie Tanna\", link: \"https://twitter.com/jamietanna\"},\n      {name: \"Phil Weber\", link: \"https://twitter.com/philweber\"},\n      {name: \"Jorge Bay\", link: \"https://twitter.com/jorgebg\"},\n      {name: \"Jason Kim\", link: \"https://twitter.com/jasoki\"},\n      {name: \"Tom Goldsmith\", link: \"https://tgoldsmith.co.uk\"},\n      {name: \"Patrick Cunningham\", link: \"https://twitter.com/ptrckcnnnghm\"},\n      {name: \"Bart Joosten\", link: \"http://loenz.nl\"},\n      {name: \"Micah Johnson\", link: \"#\"},\n      {name: \"Mat Schulte\", link: \"https://twitter.com/text_is_life\"},\n      {name: \"Noel Quiles\", link: \"https://noelquiles.com\"},\n      {name: \"Frederick Doe\", link: \"#\"},\n      {name: \"Donnie West\", link: \"https://donniewest.com\"},\n      {name: \"Dan Janosik\", link: \"https://danjanosik.com\"},\n      {name: \"Stefan Thon\", link: \"https://twitter.com/smuemd\"},\n      {name: \"Andrew Romanov\", link: \"http://andrew-r.ru/\"},\n      {name: \"Williams Melgar\", link: \"https://wmelgar.com\"},\n      {name: \"Justin Shelton\", link: \"http://mightynorthmedia.com/\"},\n      {name: \"Tim Deasy\", link: \"http://tdeasy.com/\"},\n      {name: \"Justin Levens\", link: \"https://justinlevens.us\"}\n    ]);\n\n    function shuffle(array) {\n      var rand, index = -1,\n        length = array.length,\n        result = Array(length);\n      while (++index < length) {\n        rand = Math.floor(Math.random() * (index + 1));\n        result[index] = result[rand];\n        result[rand] = array[index];\n      }\n      return result;\n    }\n  }\n}\n\nangular.module('app.main').controller('BaseCtrl', BaseCtrl);\n;class DropboxCtrl {\n  constructor($scope, $rootScope, $stateParams) {\n\n    // DEPRACATED\n    // $scope.dropboxLink = $rootScope.getDropboxLink(\"dropbox_redirect\", \"code\");\n    //\n    // var result = $stateParams.secret_url;\n    // if(result == \"error\") {\n    //   $scope.error = result;\n    // } else {\n    //   $scope.secretUrl = result;\n    // }\n\n  }\n}\n\nangular.module('app.main').controller('DropboxCtrl', DropboxCtrl);\n;class ExtensionsCtrl {\n  constructor($scope) {\n\n    $scope.freeExtensions = [\n      {\n        name: \"File Attachments\",\n        desc: \"An extension that allows you to attach files to your notes.\",\n        sref: \"extensions.file_attacher\",\n        types: [\"Extension\"]\n      },\n      {\n        name: \"Simple Markdown Editor\",\n        desc: \"A simple Markdown editor with split pane preview.\",\n        sref: \"extensions.simple_markdown\",\n        types: [\"Editor\"]\n      },\n      {\n        name: \"Standard Journal\",\n        desc: \"A blogging extension for Standard Notes. Easily create your own personal blog from your notes.\",\n        href: \"https://github.com/standardnotes/standard-journal\",\n        types: [\"Extension\"]\n      },\n      {\n        name: \"Realtime Collaborative Editor\",\n        desc: \"A proof of concept collaborative text editor with end-to-end encryption.\",\n        sref: \"extensions.collab\",\n        types: [\"Experimental\", \"Editor\"]\n      }\n    ]\n\n    $scope.proExtensions = [\n      {\n        name: \"Dropbox Sync\",\n        desc: \"Automatically syncs your tags and notes to your Dropbox for added redundancy.\",\n        // href: window._ext_server + \"/dropbox\",\n        types: [\"Sync Adapter\"],\n        cta: null\n      },\n      {\n        name: \"Google Drive Sync\",\n        desc: \"Automatically syncs your tags and notes to your Google Drive for added redundancy.\",\n        // href: window._ext_server + \"/gdrive\",\n        types: [\"Sync Adapter\"],\n        cta: null\n      },\n      {\n        name: \"Note History\",\n        desc: \"Tracks changes to your notes and allows you to restore to earlier versions.\",\n        sref: \"extensions.history\",\n        types: [\"Extension\"],\n        cta: \"Info\"\n      },\n      {\n        name: \"Advanced Markdown Editor\",\n        desc: \"An advanced Markdown editor with live preview, editor toolbar, and split pane support.\",\n        sref: \"extensions.advanced_markdown\",\n        types: [\"Editor\"],\n        cta: \"Demo\"\n      },\n      {\n        name: \"Code Editor\",\n        desc: \"Ideal for code snippets and other useful functions that you want to hold on to in your notes.\",\n        sref: \"extensions.code_editor\",\n        types: [\"Editor\"],\n        cta: \"Demo\"\n      },\n      {\n        name: \"Minimal Markdown Editor\",\n        desc: \"A minimal Markdown editor with inline style support.\",\n        sref: \"extensions.min_markdown\",\n        types: [\"Editor\"],\n        cta: \"Demo\"\n      },\n      {\n        name: \"Midnight\",\n        desc: \"A night theme for Standard Notes Desktop and Web.\",\n        sref: \"extensions.themes\",\n        types: [\"Theme\"],\n        cta: \"Info\"\n      }\n    ]\n\n  }\n}\n\nangular.module('app.main').controller('ExtensionsCtrl', ExtensionsCtrl);\n;class FileAttacherCtrl {\n  constructor($scope, $rootScope, $stateParams, $state, Restangular) {\n\n    $scope.getUser = function() {\n      var test = $scope.secretUrl.match(\"file_attacher/(.*)\\\\?\");\n      var uuid = test[1];\n\n      var queryString = $scope.secretUrl.substring($scope.secretUrl.indexOf(\"?\"), $scope.secretUrl.length);\n      var query = parseQuery(queryString);\n      var key = query[\"key\"];\n\n      Restangular.one(\"extension_users\").customGET(uuid, {key: key}).then(function(response){\n        sessionStorage.setItem(\"fa_key\", key);\n        $scope.user = response.plain();\n        $scope.didSetUser();\n      })\n    }\n\n    $scope.didSetUser = function() {\n      $scope.dropboxLink = $rootScope.getDropboxLink(\"extensions/file_attacher\", \"token\", $scope.user.uuid);\n    }\n\n    var location = window.location.href;\n    if(location.indexOf(\"access_token\") !== -1) {\n      // dropbox auth complete\n      var key = sessionStorage.getItem(\"fa_key\");\n      var queryString = location.substring(location.indexOf(\"#\"), location.length);\n      var query = parseQuery(queryString);\n      var dropboxAccessToken = query[\"access_token\"];\n      var uuid = query[\"state\"];\n\n      var request = Restangular.one(\"extension_users\", uuid);\n      _.merge(request, {dropbox_token : dropboxAccessToken, key : key});\n      request.patch().then(function(response){\n        let secretUrl = encodeURIComponent(`${$rootScope.baseUrl()}/ext/file_attacher/${uuid}?key=${key}&type=sn`);\n        window.location.href = `/extensions/file_attacher?secret_url=${secretUrl}`;\n      })\n    } else {\n      var result = $stateParams.secret_url;\n      if(result) {\n        if(result == \"error\") {\n          $scope.error = result;\n        } else {\n          $scope.secretUrl = result;\n          $scope.getUser();\n        }\n      }\n    }\n\n\n    $scope.loginData = {showLogin: false};\n\n    $scope.submitLogin = function() {\n      $state.go(\"extensions.file_attacher\", {secret_url: $scope.loginData.secretUrl});\n    }\n\n    function parseQuery(qstr) {\n        var query = {};\n        var a = (qstr[0] === '?' || qstr[0] === '#' ? qstr.substr(1) : qstr).split('&');\n        for (var i = 0; i < a.length; i++) {\n            var b = a[i].split('=');\n            query[decodeURIComponent(b[0])] = decodeURIComponent(b[1] || '');\n        }\n        return query;\n    }\n  }\n}\n\nangular.module('app.main').controller('FileAttacherCtrl', FileAttacherCtrl);\n;class LandingCtrl {\n  constructor($rootScope, $scope, $timeout) {\n\n    $scope.displayData = {};\n\n    $scope.demoUrl = window._staging_app_server + \"/?server=https://stagingapi.standardnotes.org&email=general@standardnotes.org&pw=password\";\n\n    document.onkeydown = function(e) {\n      $timeout(function(){\n        if (e.keyCode == '37') {\n          $scope.previousScreenshot();\n        } else if(e.keyCode == '39') {\n          $scope.nextScreenshot();\n        } else if(e.keyCode == '27') {\n          $scope.displayData.screenshot = null;\n        }\n      })\n    }\n\n    $scope.downloads = [\n      {\n        name: \"Web\",\n        icon: \"ico-chrome.png\",\n        link: \"https://app.standardnotes.org\",\n        screenshots: [\n          \"https://s3.amazonaws.com/standard-notes/screenshots/web/jpg/1.jpg\",\n          \"https://s3.amazonaws.com/standard-notes/screenshots/web/jpg/2.jpg\",\n          \"https://s3.amazonaws.com/standard-notes/screenshots/web/jpg/3.jpg\",\n          \"https://s3.amazonaws.com/standard-notes/screenshots/web/jpg/4.jpg\",\n          \"https://s3.amazonaws.com/standard-notes/screenshots/web/jpg/5.jpg\"\n        ]\n      },\n      {\n        name: \"iOS\",\n        icon: \"ico-apple.png\",\n        link: \"https://itunes.apple.com/us/app/id1191215138?mt=8\",\n        screenshots: [\n          \"https://s3.amazonaws.com/standard-notes/screenshots/ios/1.jpg\",\n          \"https://s3.amazonaws.com/standard-notes/screenshots/ios/2.jpg\",\n          \"https://s3.amazonaws.com/standard-notes/screenshots/ios/3.jpg\",\n          \"https://s3.amazonaws.com/standard-notes/screenshots/ios/4.jpg\",\n        ]\n      },\n      {\n        name: \"Mac\",\n        icon: \"ico-apple.png\",\n        link: \"https://github.com/standardnotes/desktop/releases/download/v0.3.2/standard-notes-0.3.2-mac.zip\",\n        screenshots: [\n          \"https://s3.amazonaws.com/standard-notes/screenshots/mac/jpg/1.jpg\",\n          \"https://s3.amazonaws.com/standard-notes/screenshots/mac/jpg/2.jpg\",\n          \"https://s3.amazonaws.com/standard-notes/screenshots/mac/jpg/3.jpg\",\n          \"https://s3.amazonaws.com/standard-notes/screenshots/mac/jpg/4.jpg\",\n          \"https://s3.amazonaws.com/standard-notes/screenshots/mac/jpg/5.jpg\"\n        ]\n      },\n      {\n        name: \"Windows\",\n        icon: \"ico-windows.png\",\n        link: \"https://github.com/standardnotes/desktop/releases/download/v0.3.2/standard-notes-Setup-0.3.2.exe\",\n        screenshots: [\n          \"https://s3.amazonaws.com/standard-notes/screenshots/desktop/jpg/1.jpg\",\n          \"https://s3.amazonaws.com/standard-notes/screenshots/desktop/jpg/2.jpg\",\n          \"https://s3.amazonaws.com/standard-notes/screenshots/desktop/jpg/3.jpg\",\n          \"https://s3.amazonaws.com/standard-notes/screenshots/desktop/jpg/4.jpg\",\n          \"https://s3.amazonaws.com/standard-notes/screenshots/desktop/jpg/5.jpg\"\n        ]\n      },\n      {\n        name: \"Linux\",\n        icon: \"ico-linux.png\",\n        link: \"https://github.com/standardnotes/desktop/releases/download/v0.3.2/standard-notes-0.3.2-x86_64.AppImage\",\n        screenshots: [\n          \"https://s3.amazonaws.com/standard-notes/screenshots/desktop/jpg/1.jpg\",\n          \"https://s3.amazonaws.com/standard-notes/screenshots/desktop/jpg/2.jpg\",\n          \"https://s3.amazonaws.com/standard-notes/screenshots/desktop/jpg/3.jpg\",\n          \"https://s3.amazonaws.com/standard-notes/screenshots/desktop/jpg/4.jpg\",\n          \"https://s3.amazonaws.com/standard-notes/screenshots/desktop/jpg/5.jpg\"\n        ]\n      },\n      {\n        name: \"Android\",\n        icon: \"ico-android.png\",\n        link: \"https://play.google.com/store/apps/details?id=org.standardnotes.notes\"\n      },\n    ];\n\n    $scope.clickedScreenshots = function(item) {\n      $scope.screenshots = item.screenshots;\n      $scope.screenshotIndex = 0;\n      $scope.updateScreenshot();\n\n      // preload images\n      var index = 0;\n      function loadNext() {\n        if(index >= $scope.screenshots.length) {\n          return;\n        }\n\n        var preloaded = new Image();\n        preloaded.src = $scope.screenshots[index];\n        index++;\n\n        preloaded.onload = function() {\n          loadNext();\n        };\n      }\n      loadNext();\n    }\n\n    $scope.updateScreenshot = function() {\n      $scope.displayData.screenshot = $scope.screenshots[$scope.screenshotIndex];\n    }\n\n    $scope.hasNextScreenshot = function() {\n      return $scope.screenshotIndex < $scope.screenshots.length - 1;\n    }\n\n    $scope.hasPreviousScreenshot = function() {\n      return $scope.screenshotIndex > 0;\n    }\n\n    $scope.nextScreenshot = function($event) {\n      if(!$scope.hasNextScreenshot()) {\n        return;\n      }\n\n      if($event) {\n        $event.stopPropagation();\n      }\n      $scope.screenshotIndex++;\n      $scope.updateScreenshot();\n    }\n\n    $scope.previousScreenshot = function($event) {\n      if(!$scope.hasPreviousScreenshot()) {\n        return;\n      }\n\n      if($event) {\n        $event.stopPropagation();\n      }\n      $scope.screenshotIndex--;\n      $scope.updateScreenshot();\n    }\n\n  }\n}\n\nangular.module('app.main').controller('LandingCtrl', LandingCtrl);\n;class ProDashboardCtrl {\n  constructor($rootScope, $scope, $timeout, Restangular, $stateParams, $state) {\n\n    $scope.buildExtensions = function() {\n      $scope.extensions = [\n        {\n          name: \"Dropbox Sync Adapter\",\n          desc: \"Sync your tags and notes to Dropbox for added redundancy.\",\n          url: $scope.user.extension_server_url + \"/dropbox\"\n        },\n        {\n          name: \"Google Drive Sync Adapter\",\n          desc: \"Sync your tags and notes to Google Drive for added redundancy.\",\n          url: $scope.user.extension_server_url + \"/gdrive\"\n        },\n        {\n          name: \"Note History\",\n          desc: \"Track changes to your notes and restore to previous versions.\",\n          url: $scope.user.extension_server_url + \"/revisions\"\n        },\n        {\n          name: \"Advanced Markdown Editor\",\n          desc: \"An advanced Markdown editor with live preview, editor toolbar, and split pane support.\",\n          editor: true,\n          url: $scope.user.extension_server_url + \"/editors/advanced_markdown?name=Advanced Markdown\"\n        },\n        {\n          name: \"Code Editor\",\n          desc: \"A powerful code editor with support for over 120 programming languages.\",\n          editor: true,\n          url: $scope.user.extension_server_url + \"/editors/code?name=Code\"\n        },\n        {\n          name: \"Minimal Markdown Editor\",\n          desc: \"A minimal Markdown editor with inline style support.\",\n          editor: true,\n          url: $scope.user.extension_server_url + \"/editors/min_markdown?name=Minimal Markdown\"\n        },\n        {\n          name: \"Midnight Theme\",\n          desc: \"A night theme for Standard Notes Desktop and Web.\",\n          theme: true,\n          url: $scope.user.extension_server_url + \"/themes/midnight\"\n        }\n      ]\n    }\n\n    if($stateParams.jwt) {\n      Restangular.one(\"pro_users.json\", $stateParams.id).get({jwt: $stateParams.jwt})\n      .then(function(response){\n        $scope.user = response.plain();\n        $scope.user.jwt = $stateParams.jwt;\n        $scope.buildExtensions();\n      })\n      .catch(function(errorResponse){\n        console.log(\"Fetch user from JWT error:\", errorResponse);\n        alert(\"Your login session has expired.\");\n        $state.go(\"extended\");\n      })\n    } else if($stateParams.user) {\n      $scope.user = $stateParams.user;\n      $scope.buildExtensions();\n    }\n\n    $scope.infoFormData = {};\n    $scope.submitInfoForm = function() {\n      $scope.infoFormData.success = false;\n      $scope.infoFormData.error = false;\n\n      var request = Restangular.one(\"pro_users\", $scope.user.id);\n      request.jwt = $scope.user.jwt;\n      _.merge(request, $scope.user);\n      request.patch().then(function(response){\n        $scope.infoFormData.success = true;\n      })\n      .catch(function(errorResponse){\n        console.log(\"Error updating info:\", errorResponse);\n        $scope.infoFormData.error = true;\n      })\n    }\n\n\n  }\n}\n\nangular.module('app.main').controller('ProDashboardCtrl', ProDashboardCtrl);\n;class ProCtrl {\n  constructor($rootScope, $scope, $timeout, Restangular, $state) {\n\n    $scope.formData = {};\n\n\n    $scope.presetAmountSelected = function() {\n      $scope.formData.payOtherAmount = null;\n    }\n\n    $scope.submitEmail = function() {\n      var request = Restangular.one(\"pro_users\");\n      request.email = $scope.formData.email;\n      request.post().then(function(response){\n        var status = response.status;\n        if(status == \"login-email-sent\") {\n          $scope.formData.registrationResponse = \"A login link has been sent to your email address. Please follow that link to continue.\";\n        } else if(status == \"did-register\" || status == \"expired\") {\n          $scope.user = response.user;\n          $scope.user.jwt = response.token;\n          $scope.purchaseSubscription();\n        }\n      })\n      .catch(function(errorResponse){\n        console.log(\"Submit error: \", errorResponse);\n        alert(\"There was an error processing your request. Please try again.\");\n      })\n    }\n\n    function loadStripe(callback) {\n      if(window.StripeCheckout) {\n        callback();\n        return;\n      }\n\n      var scriptTag = document.createElement('script');\n      scriptTag.src = \"https://checkout.stripe.com/checkout.js\";\n      scriptTag.async = false;\n      var headTag = document.getElementsByTagName('head')[0];\n      headTag.appendChild(scriptTag);\n      scriptTag.onload = function() {\n        callback();\n      }\n    }\n\n    $scope.getPayAmount = function() {\n      var amount = $scope.formData.payOtherAmount > 0 ? $scope.formData.payOtherAmount : $scope.formData.payAmount;\n      amount *= 100;\n      return amount;\n    }\n\n    $scope.purchaseSubscription = function() {\n      loadStripe(function(){\n        var handler = StripeCheckout.configure({\n          key: window._stripe_pk,\n          locale: 'auto',\n          bitcoin: true,\n          token: function(token) {\n            $scope.submitSubscriptionRequest(token);\n          }\n        });\n\n        handler.open({\n          name: 'Standard Notes Extended',\n          description: 'Subscription',\n          amount: $scope.getPayAmount()\n        });\n      })\n    }\n\n    $scope.submitSubscriptionRequest = function(stripeToken) {\n      $scope.formData.processing = true;\n\n      var request = Restangular.one(\"subscriptions\");\n      request.jwt = $scope.user.jwt;\n\n      if(stripeToken) {\n       request.token = stripeToken.id;\n       request.email = stripeToken.email;\n       request.token_type = stripeToken.type;\n      }\n\n      request.amount = $scope.getPayAmount();\n\n      request.post()\n      .then(function(response){\n        $scope.formData.processing = false;\n        if(!response.error) {\n          $scope.formData.success = true;\n          $timeout(function(){\n            $state.go(\"pro_dashboard\", {user: $scope.user})\n          }, 1250)\n        } else {\n          console.log(\"Subscription error:\", response.data);\n          $scope.formData.error = response.error;\n        }\n      })\n      .catch(function(response) {\n        $scope.formData.processing = false;\n        $scope.formData.error = {message: \"There was an error processing your subscription. Please try again. If you continue to see problems, please email hello@standardnotes.org.\"}\n      })\n    }\n  }\n}\n\nangular.module('app.main').controller('ProCtrl', ProCtrl);\n;class ToolsCtrl {\n  constructor($rootScope, $scope, $timeout) {\n\n    $scope.importEvernoteFileSelected = function(files) {\n      var file = files[0];\n      var reader = new FileReader();\n\n      reader.onload = function(e) {\n        var data = e.target.result;\n        try {\n          var sndata = SNTools.convertENEXDatatoSN(data);\n          SNTools.downloadSNData(sndata, \"evernote-to-sn.txt\");\n          $timeout(function(){\n            $scope.evernoteConversionComplete = true;\n          })\n        } catch (e) {\n          console.log(\"Error: \", e);\n          alert(\"There was an error processing your file. Please submit your console output to hello@standardnotes.org.\");\n        }\n      }\n      reader.readAsText(file);\n    }\n\n    $scope.importPlaintextSelected = function(files) {\n      try {\n        SNTools.convertPlaintextFiles(files, function(data){\n          SNTools.downloadSNData(data, \"sn-import-file.txt\");\n          $timeout(function(){\n            $scope.plaintextConversionComplete = true;\n          })\n        })\n      } catch (e) {\n        console.log(\"Error: \", e);\n        alert(\"There was an error processing your file. Please submit your console output to hello@standardnotes.org.\");\n      }\n    }\n\n  }\n}\n\nangular.module('app.main').controller('ToolsCtrl', ToolsCtrl);\n;angular.module('app.main').filter('trusted', ['$sce', function ($sce) {\n    return function(url) {\n        return $sce.trustAsResourceUrl(url);\n    };\n}]);\n;angular\n  .module('app.main')\n  .directive('fileChange', function() {\n    return {\n     restrict: 'A',\n     scope: {\n       handler: '&'\n     },\n     link: function (scope, element) {\n      element.on('change', function (event) {\n        scope.$apply(function(){\n          scope.handler({files: event.target.files});\n        });\n      });\n     }\n    };\n});\n;//= require app/app.main.js\n//= require_tree ./controllers\n;angular.module('app.main')\n  .config(function ($stateProvider, $urlRouterProvider, $locationProvider) {\n\n    $stateProvider\n      .state('base', {\n        abstract: true,\n        views: {\n          header: {\n            templateUrl: 'templates/shared/header.html',\n          }\n        }\n      })\n\n      .state('landing', {\n        url: '/',\n        parent: 'base',\n        views: {\n          'content@' : {\n            templateUrl: 'templates/landing.html',\n            controller: 'LandingCtrl'\n          }\n        }\n      })\n\n      .state('help', {\n        url: '/help',\n        parent: 'base',\n        views: {\n          'content@' : {\n            templateUrl: 'templates/help.html',\n            // controller: 'HelpCtrl'\n          }\n        }\n      })\n\n      .state('extensions', {\n        url: '/extensions',\n        parent: 'base',\n        views: {\n          'content@' : {\n            templateUrl: 'templates/extensions/extensions.html',\n            controller: 'ExtensionsCtrl'\n          }\n        }\n      })\n\n      .state('extensions.themes', {\n        url: '/themes',\n        views: {\n          'content@' : {\n            templateUrl: 'templates/extensions/themes.html',\n          }\n        }\n      })\n\n      .state('extensions.history', {\n        url: '/revision-history',\n        views: {\n          'content@' : {\n            templateUrl: 'templates/extensions/revisions.html',\n          }\n        }\n      })\n\n      .state('extensions.file_attacher', {\n        url: '/file_attacher?secret_url&uuid',\n        views: {\n          'content@' : {\n            templateUrl: 'templates/extensions/file_attacher.html',\n            controller: 'FileAttacherCtrl'\n          }\n        }\n      })\n\n      .state('extensions.simple_markdown', {\n        url: '/simple-markdown',\n        views: {\n          'content@' : {\n            templateUrl: 'templates/extensions/simple_markdown.html',\n            controller: function($scope){\n              $scope.extServer = window._ext_server;\n              $scope.iframeURL = window._ext_server + \"/editors/simple_markdown_demo\";\n            }\n          },\n        }\n      })\n\n      .state('extensions.advanced_markdown', {\n        url: '/advanced-markdown',\n        views: {\n          'content@' : {\n            templateUrl: 'templates/extensions/advanced_markdown.html',\n            controller: function($scope){\n              // $scope.iframeURL = window._ext_server + \"/editors/advanced_markdown_demo\";\n              $scope.iframeURL = window._staging_app_server + \"/?server=https://stagingapi.standardnotes.org&email=md@standardnotes.org&pw=password\";\n            }\n          }\n        }\n      })\n\n      .state('extensions.code_editor', {\n        url: '/code-editor',\n        views: {\n          'content@' : {\n            templateUrl: 'templates/extensions/code_editor.html',\n            controller: function($scope){\n              $scope.iframeURL = window._staging_app_server + \"/?server=https://stagingapi.standardnotes.org&email=code@standardnotes.org&pw=password\";\n            }\n          }\n        }\n      })\n\n      .state('extensions.min_markdown', {\n        url: '/minimal-markdown',\n        views: {\n          'content@' : {\n            templateUrl: 'templates/extensions/min_markdown_editor.html',\n            controller: function($scope){\n              $scope.iframeURL = window._ext_server + \"/editors/min_markdown_demo\";\n            }\n          }\n        }\n      })\n\n      .state('extensions.collab', {\n        url: '/collaborative-editor',\n        views: {\n          'content@' : {\n            templateUrl: 'templates/extensions/collab_editor.html'\n          }\n        }\n      })\n\n      .state('tools', {\n        parent: 'base',\n        url: '/tools',\n        views: {\n          'content@' : {\n            templateUrl: 'templates/tools.html',\n            controller: 'ToolsCtrl'\n          }\n        }\n      })\n\n      .state('developers', {\n        parent: 'base',\n        url: '/developers',\n        views: {\n          'content@' : {\n            templateUrl: 'templates/developers.html'\n          }\n        }\n      })\n\n      .state('extended', {\n        parent: 'base',\n        url: '/extended',\n        views: {\n          'content@' : {\n            templateUrl: 'templates/extended.html',\n            controller: 'ProCtrl'\n          }\n        }\n      })\n\n      .state('pro_dashboard', {\n        url: '/subscriber-dashboard?jwt',\n        params: {user: null},\n        views: {\n          'content@' : {\n            templateUrl: 'templates/pro_dashboard.html',\n            controller: 'ProDashboardCtrl'\n          }\n        }\n      })\n\n      // 404 Error\n      .state('slack', {\n        parent: 'base',\n        url: '/slack',\n        views: {\n          'content@' : {\n            controller: function($scope){\n              window.location.href = window._slack_url;\n            }\n          }\n        }\n      })\n\n      // 404 Error\n      .state('404', {\n        parent: 'base',\n        views: {\n          'content@' : {\n            templateUrl: 'templates/landing.html',\n            controller: 'LandingCtrl'\n          }\n        }\n      });\n\n      // Default fall back route\n      $urlRouterProvider.otherwise(function($injector, $location){\n         var state = $injector.get('$state');\n         state.go('404');\n         return $location.path();\n      });\n\n      // enable HTML5 Mode for SEO\n      $locationProvider.html5Mode(true);\n\n  });\n"]}