{"version":3,"sources":["app.js"],"names":["angular","module","config","RestangularProvider","setDefaultHeaders","setBaseUrl","document","addEventListener","event","dropContainer","getElementById","fileInput","onchange","submit","onEnter","classList","add","onExit","remove","ondragover","ondragenter","evt","preventDefault","ondragleave","ondragend","ondrop","files","dataTransfer","BaseCtrl","$rootScope","baseUrl","location","protocol","hostname","port","getDropboxLink","redirect","type","state","clientId","host","absoluteRedirect","url","controller","DropboxCtrl","$scope","$stateParams","dropboxLink","result","secret_url","error","secretUrl","ExtensionsCtrl","FileAttacherCtrl","$state","Restangular","getUser","test","match","uuid","queryString","substring","indexOf","length","query","parseQuery","key","one","customGET","then","response","sessionStorage","setItem","user","plain","didSetUser","window","href","getItem","dropboxAccessToken","request","_","merge","dropbox_token","patch","loginData","showLogin","submitLogin","go","qstr","a","substr","split","i","b","decodeURIComponent","LandingCtrl","ToolsCtrl","$timeout","importEvernoteFileSelected","file","reader","FileReader","onload","e","data","target","sndata","SNTools","convertENEXDatatoSN","downloadSNData","evernoteConversionComplete","console","log","alert","readAsText","directive","restrict","scope","handler","link","element","on","$apply","$stateProvider","$urlRouterProvider","$locationProvider","abstract","parent","views","templateUrl","otherwise","$injector","$location","get","path","html5Mode"],"mappings":"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","file":"transpiled.js","sourcesContent":["'use strict';\n\nangular.module('app.main', [\n  'ui.router',\n  'restangular'\n])\n\n.config(function (RestangularProvider) {\n  RestangularProvider.setDefaultHeaders({\"Content-Type\": \"application/json\"});\n  RestangularProvider.setBaseUrl(\"/api\");\n})\n;document.addEventListener(\"DOMContentLoaded\", function(event) {\n  var dropContainer = document.getElementById(\"drop-container\");\n  var fileInput = document.getElementById(\"file-input\");\n\n  if(fileInput) {\n    fileInput.onchange = function() {\n      document.getElementById(\"file-attacher-form\").submit();\n    };\n\n    var onEnter = function() {\n      dropContainer.classList.add('is-dragover');\n    }\n\n    var onExit = function() {\n      dropContainer.classList.remove('is-dragover');\n    }\n\n    dropContainer.ondragover = dropContainer.ondragenter = function(evt) {\n      onEnter();\n      evt.preventDefault();\n    };\n\n    dropContainer.ondragleave = dropContainer.ondragend = onExit;\n\n    dropContainer.ondrop = function(evt) {\n      onExit();\n      dropContainer.classList.add('is-uploading');\n      fileInput.files = evt.dataTransfer.files;\n      evt.preventDefault();\n    };\n  }\n\n});\n;class BaseCtrl {\n  constructor($rootScope) {\n\n    $rootScope.baseUrl = function() {\n      return location.protocol+'//'+location.hostname+(location.port ? ':'+location.port: '');\n    }\n\n    $rootScope.getDropboxLink = function(redirect, type, state) {\n      var clientId = \"7wzjlm5ap227jw7\";\n      var host = $rootScope.baseUrl();\n      var absoluteRedirect = host + \"/\" + redirect;\n      var url = \"https://www.dropbox.com/1/oauth2/authorize?client_id=\" + clientId + \"&response_type=\" + type + \"&redirect_uri=\" + absoluteRedirect;\n      if(state) {\n        url += \"&state=\" + state;\n      }\n      return url;\n    }\n  }\n}\n\nangular.module('app.main').controller('BaseCtrl', BaseCtrl);\n;class DropboxCtrl {\n  constructor($scope, $rootScope, $stateParams) {\n\n    $scope.dropboxLink = $rootScope.getDropboxLink(\"dropbox_redirect\", \"code\");\n\n    var result = $stateParams.secret_url;\n    if(result == \"error\") {\n      $scope.error = result;\n    } else {\n      $scope.secretUrl = result;\n    }\n\n  }\n}\n\nangular.module('app.main').controller('DropboxCtrl', DropboxCtrl);\n;class ExtensionsCtrl {\n  constructor() {\n\n  }\n}\n\nangular.module('app.main').controller('ExtensionsCtrl', ExtensionsCtrl);\n;class FileAttacherCtrl {\n  constructor($scope, $rootScope, $stateParams, $state, Restangular) {\n\n    $scope.getUser = function() {\n      var test = $scope.secretUrl.match(\"file_attacher/(.*)\\\\?\");\n      var uuid = test[1];\n\n      var queryString = $scope.secretUrl.substring($scope.secretUrl.indexOf(\"?\"), $scope.secretUrl.length);\n      var query = parseQuery(queryString);\n      var key = query[\"key\"];\n\n      Restangular.one(\"users\").customGET(uuid, {key: key}).then(function(response){\n        sessionStorage.setItem(\"fa_key\", key);\n        $scope.user = response.plain();\n        $scope.didSetUser();\n      })\n    }\n\n    $scope.didSetUser = function() {\n      $scope.dropboxLink = $rootScope.getDropboxLink(\"extensions/file_attacher\", \"token\", $scope.user.uuid);\n    }\n\n    var location = window.location.href;\n    if(location.indexOf(\"access_token\") !== -1) {\n      // dropbox auth complete\n      var key = sessionStorage.getItem(\"fa_key\");\n      var queryString = location.substring(location.indexOf(\"#\"), location.length);\n      var query = parseQuery(queryString);\n      var dropboxAccessToken = query[\"access_token\"];\n      var uuid = query[\"state\"];\n\n      var request = Restangular.one(\"users\", uuid);\n      _.merge(request, {dropbox_token : dropboxAccessToken, key : key});\n      request.patch().then(function(response){\n        window.location.href = `/extensions/file_attacher?secret_url=${$rootScope.baseUrl()}/ext/file_attacher/${uuid}?key=${key}`;\n      })\n\n    } else {\n      var result = $stateParams.secret_url;\n      if(result) {\n        if(result == \"error\") {\n          $scope.error = result;\n        } else {\n          $scope.secretUrl = result;\n          $scope.getUser();\n        }\n      }\n    }\n\n\n    $scope.loginData = {showLogin: false};\n\n    $scope.submitLogin = function() {\n      $state.go(\"extensions.file_attacher\", {secret_url: $scope.loginData.secretUrl});\n    }\n\n    function parseQuery(qstr) {\n        var query = {};\n        var a = (qstr[0] === '?' || qstr[0] === '#' ? qstr.substr(1) : qstr).split('&');\n        for (var i = 0; i < a.length; i++) {\n            var b = a[i].split('=');\n            query[decodeURIComponent(b[0])] = decodeURIComponent(b[1] || '');\n        }\n        return query;\n    }\n  }\n}\n\nangular.module('app.main').controller('FileAttacherCtrl', FileAttacherCtrl);\n;class LandingCtrl {\n  constructor($rootScope) {\n\n  }\n}\n\nangular.module('app.main').controller('LandingCtrl', LandingCtrl);\n;class ToolsCtrl {\n  constructor($rootScope, $scope, $timeout) {\n\n    $scope.importEvernoteFileSelected = function(files) {\n      var file = files[0];\n      var reader = new FileReader();\n\n      reader.onload = function(e) {\n        var data = e.target.result;\n        try {\n          var sndata = SNTools.convertENEXDatatoSN(data);\n          SNTools.downloadSNData(sndata, \"evernote-to-sn.txt\");\n          $timeout(function(){\n            $scope.evernoteConversionComplete = true;\n          })\n        } catch (e) {\n          console.log(\"Error: \", e);\n          alert(\"There was an error processing your file. Please submit your console output to sn@bitar.io.\");\n        }\n      }\n      reader.readAsText(file);\n    }\n\n  }\n}\n\nangular.module('app.main').controller('ToolsCtrl', ToolsCtrl);\n;angular\n  .module('app.main')\n  .directive('fileChange', function() {\n    return {\n     restrict: 'A',\n     scope: {\n       handler: '&'\n     },\n     link: function (scope, element) {\n      element.on('change', function (event) {\n        scope.$apply(function(){\n          scope.handler({files: event.target.files});\n        });\n      });\n     }\n    };\n});\n;//= require app/app.main.js\n//= require_tree ./controllers\n;angular.module('app.main')\n  .config(function ($stateProvider, $urlRouterProvider, $locationProvider) {\n\n    $stateProvider\n      .state('base', {\n        abstract: true,\n      })\n\n      .state('landing', {\n        url: '/',\n        parent: 'base',\n        views: {\n          'content@' : {\n            templateUrl: 'templates/landing.html',\n            controller: 'LandingCtrl'\n          }\n        }\n      })\n\n      .state('extensions', {\n        url: '/extensions',\n        views: {\n          'content@' : {\n            templateUrl: 'templates/extensions.html',\n            controller: 'ExtensionsCtrl'\n          }\n        }\n      })\n\n      .state('extensions.dropbox', {\n        url: '/dropbox?secret_url',\n        views: {\n          'content@' : {\n            templateUrl: 'templates/dropbox.html',\n            controller: 'DropboxCtrl'\n          }\n        }\n      })\n\n      .state('extensions.file_attacher', {\n        url: '/file_attacher?secret_url&uuid',\n        views: {\n          'content@' : {\n            templateUrl: 'templates/file_attacher.html',\n            controller: 'FileAttacherCtrl'\n          }\n        }\n      })\n\n      .state('tools', {\n        url: '/tools',\n        views: {\n          'content@' : {\n            templateUrl: 'templates/tools.html',\n            controller: 'ToolsCtrl'\n          }\n        }\n      })\n\n      .state('developers', {\n        url: '/developers',\n        views: {\n          'content@' : {\n            templateUrl: 'templates/developers.html'\n          }\n        }\n      })\n\n      // 404 Error\n      .state('404', {\n        parent: 'base',\n        views: {\n          'content@' : {\n            templateUrl: 'errors/404.html'\n          }\n        }\n      });\n\n      // Default fall back route\n      $urlRouterProvider.otherwise(function($injector, $location){\n         var state = $injector.get('$state');\n         state.go('404');\n         return $location.path();\n      });\n\n      // enable HTML5 Mode for SEO\n      $locationProvider.html5Mode(true);\n\n  });\n"]}